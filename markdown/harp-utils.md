<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@here/harp-utils](./harp-utils.md)

## harp-utils package

## Classes

|  Class | Description |
|  --- | --- |
|  [ConsoleChannel](./harp-utils.consolechannel.md) | Class for the default console channel. |
|  [ContextLogger](./harp-utils.contextlogger.md) | Context-aware logger that decorates log message with stack-based prefix, emits <code>headerMessage</code> before first actual log message. |
|  [GroupedPriorityList](./harp-utils.groupedprioritylist.md) | The <code>GroupedPriorityList</code> contains a \[\[PriorityListGroupMap\]\] to manage a larger number of items in priority groups. |
|  [Logger](./harp-utils.logger.md) | Logger class. |
|  [LoggerManager](./harp-utils.loggermanager.md) | The LoggerManager class implements a singleton object that handles logging.<!-- -->Example:
```typescript

const logger = LoggerManager.instance.create("MyFontLoaderClass");
if (missingFonts.length > 0) {
    logger.error("These fonts can not be loaded: ", missingFonts);
} else {
    logger.log("All fonts have been loaded.");
}

```
 |
|  [LoggerOptions](./harp-utils.loggeroptions.md) | Logger options to configure logger |
|  [MultiChannel](./harp-utils.multichannel.md) | Class allowing mixing several channels. |
|  [PerformanceTimer](./harp-utils.performancetimer.md) | See: https://developers.google.com/web/updates/2012/08/When-milliseconds-are-not-enough-performance-now |
|  [PrefixMapUriResolver](./harp-utils.prefixmapuriresolver.md) | Basic, import-map like \[\[UriResolver\]\].<!-- -->Resolves <code>uris</code> basing on exact or prefix match of <code>key</code> from <code>definitions</code>.<!-- -->In definitions, <code>key</code> is matched against input uri with following strategy: - <code>key</code> without trailing <code>/</code> -<!-- -->&gt; <code>key</code> and input <code>uri</code> must be identical - <code>key</code> with trailing <code>/</code>, -<!-- -->&gt; <code>key</code> is treated as "package prefix", so <code>uri</code> must start with <code>key</code>Example:
```
{
    "local://poiMasterList": "/assets/poiMasterList.json"
       // will match only 'local://poiMasterList' and resolve `/assets/poiMasterList.json`
    "local://icons/": "/assets/icons/"
       // will match only 'local://icons/ANYPATH' (and similar) and resolve to
       // `/assets/icons/ANYPATH
}

```
Inspired by \[<code>WICG</code> import maps proposal\](https://github.com/WICG/import-maps\#the-import-map). |
|  [PriorityListGroup](./harp-utils.prioritylistgroup.md) | The <code>PriorityListGroup</code> contains a list of \[\[PriorityListElement\]\]s that all have the same (integer) priority. |
|  [RelativeUriResolver](./harp-utils.relativeuriresolver.md) | \[UriResolver\] that resolve relative <code>uri</code>s against to parent resource <code>uri</code>. |
|  [WorkerChannel](./harp-utils.workerchannel.md) | The class for the worker channel. |

## Enumerations

|  Enumeration | Description |
|  --- | --- |
|  [LogLevel](./harp-utils.loglevel.md) | Enum log levels |

## Functions

|  Function | Description |
|  --- | --- |
|  [applyMixins(derivedCtor, baseCtors)](./harp-utils.applymixins.md) | Copy methods and properties from one prototype into another. https://www.typescriptlang.org/docs/handbook/mixins.html |
|  [applyMixinsWithoutProperties(derivedCtor, baseCtors)](./harp-utils.applymixinswithoutproperties.md) | Copy methods from one prototype into another. https://www.typescriptlang.org/docs/handbook/mixins.html |
|  [assert(condition, message)](./harp-utils.assert.md) | Implementation of assert as a development help<!-- -->Note - this is deliberately a global function so that minimizers remove the entire call when building for production. |
|  [assertExists(element, message)](./harp-utils.assertexists.md) |  |
|  [baseUrl(url)](./harp-utils.baseurl.md) | Returns base URL of given resource URL.<code>Url</code> with trailing slash are considered genuine 'locations', they are returned as is, however if <code>url</code> ends with name component it is treated as "leaf", so last path component is removed.<!-- -->Standalone files (without any folder structure) are considered relative to <code>./</code>.<!-- -->Examples:
```
    https://foo.com/themes/a.json -> https://foo.com/themes/
    https://foo.com/themes/ -> https://foo.com/themes/
    https://foo.com/themes -> https://foo.com/ // note, themes is treated as leaf
    themes/day.json -> themes/
    themes -> ./

```
 |
|  [chainCallbacks(f1, f2)](./harp-utils.chaincallbacks.md) | Chains two functions for further assigning as one wrapped callback function |
|  [cloneDeep(obj)](./harp-utils.clonedeep.md) | Deep clone of object.<!-- -->Like <code>JSON.parse(JSON.stringify(obj))</code>, but supports basic javascript types (string, number, object), <code>Date</code> and <code>RegExp</code>s and cycles.<!-- -->Throws error if enounters object with <code>prototype</code> assuming that in general class instances cannot be reliably cloned by generic algorithm. |
|  [composeUriResolvers(resolvers)](./harp-utils.composeuriresolvers.md) | Compose URI resolvers.<!-- -->Creates new \[\[UriResolver\]\] that applies resolvers in orders or arguments.<!-- -->Example:<!-- -->const themeUrl = ...; // url of parent object const childUrlResolver = composeUrlResolvers( new RelativeUriResolver(themeUrl), defaultUrlResolver ); |
|  [getAppBaseUrl()](./harp-utils.getappbaseurl.md) | Get base URL for from where relative URLs will be loaded.<!-- -->\* In browser, it resolves to <code>baseUrl(location.href)</code> i.e document's base URL (see: https://www.w3.org/TR/WD-html40-970917/htmlweb.html\#h-5.1.2).<!-- -->\* In node, it resolves to <code>file://${process.cwd()}</code>. |
|  [getOptionValue(a)](./harp-utils.getoptionvalue.md) | Get first defined value.<!-- -->Specialized "replacement" for <code>a &#124;&#124; b &#124;&#124; c</code> used frequently to get value from various sources (defaults, configs constants). In contrast to <code>&#124;&#124;</code>, this function provides proper typing for usual use cases (constant as last argument) and correct treatment of <code>null</code> and <code>undefined</code>.<!-- -->If last parameter is "defined" then return type is <code>T</code>, otherwise return type is <code>T &#124; undefined</code>.<!-- -->Usage example:<!-- -->interface Config { x?: number; } const someConfig: Config = {<!-- -->}<!-- -->; const val: number \| undefined = undefined; const DEFAULT = 5; const x = getOptionValue(val, someConfig.x, DEFAULT); // typeof x === 'number' because DEFAULT is defined const y = getOptionValue(val, someConfig.x); // typeof y === 'number \| undefined' because someConfig.x is possibly undefined |
|  [getOptionValue(a, b)](./harp-utils.getoptionvalue_1.md) |  |
|  [getOptionValue(a, b, c)](./harp-utils.getoptionvalue_2.md) |  |
|  [getOptionValue(a, b, c, d)](./harp-utils.getoptionvalue_3.md) |  |
|  [getOptionValue(values)](./harp-utils.getoptionvalue_4.md) |  |
|  [getUrlHostAndProtocol(url)](./harp-utils.geturlhostandprotocol.md) | Parse <code>host</code> and <code>protocol</code> part from URL. |
|  [getUrlOrigin(url)](./harp-utils.geturlorigin.md) | Get <code>origin</code> part of URL. |
|  [mergeWithOptions(parameters, options)](./harp-utils.mergewithoptions.md) | Merge options into existing parameters object.<!-- -->Convenience helper with \_similar\_ semantics as:<!-- -->const finalParams1 = { ...defaults, ... options }<!-- -->; const finalParams2 = Object.assign(<!-- -->{<!-- -->}<!-- -->, defaults, options);<!-- -->This function doesn't copy \_extra\_ properties of <code>options</code> that doesn't exist in <code>defaults</code>. <code>defaults</code> is used as \_parameters\_ template.<!-- -->This doc uses following notion of <code>option</code> and <code>parameter</code> terms: \* <code>parameter</code> is a variable, or 'almost constant' of procedure/function/algorith/object \* <code>parameter</code> usually have sensible and usually used default \* <code>parameter</code> is always defined (no <code>undefined</code>, <code>null</code> or <code>?</code> in type) \* <code>parameter</code> can be overriden by specyfying <code>option</code> with same name \* <code>option</code> means value that may be passed optionally, overrides <code>parameter</code> value with same name<!-- -->Usage:<!-- -->interface FooParams { useTextures: boolean; opacity: number; }<!-- -->const FOO\_DEFAULTS: FooParams = { useTextures: true, opacity: 0.8 }<!-- -->;<!-- -->type FooOptions = Partial<FooParams>;<!-- -->function doSomething(options: FooOptions) { const params = mergeWithOptions(FOO\_DEFAULTS, options); // typeof params === FooParams // params.opacity = 0.5 // params.useTextures = true // params.someOtherOptionFromOtherApi is not defined } const opt = {<!-- -->opacity: 0.5, someOtherOptionFromOtherApi: 'aaa'<!-- -->}<!-- -->; doSomething(opt);<!-- -->Rationale: \* both <code>Object.assign</code> and spread operator copy extra options \* <code>Object.assign</code> &amp; <code>spread operator</code> may copy <code>undefined</code> and <code>null</code>s if they really exist in options object |
|  [pick(object, props)](./harp-utils.pick.md) | Pick <code>props</code> from \`<!-- -->object.<!-- -->Runtime version of <code>Pick&lt;T,K&gt;</code>. |
|  [resolveReferenceUri(parentUri, childUri)](./harp-utils.resolvereferenceuri.md) | Resolve URI of referenced object w.r.t parent URI.<!-- -->Resolves <code>childUri</code> as it would be loaded from location specified by <code>parentUri</code>.<!-- -->If <code>childUri</code> is absolute, then it is returned unchanged. If <code>childUri</code> is origin-absolute path, then only origin path is taken from <code>parentUri</code>.<!-- -->See \[\[baseUri\]\] for reference how base URL of <code>parentUri</code> is determined.<!-- -->Supports <code>http:</code>, <code>https:</code>, <code>file:</code>, <code>data:</code> schemes.<!-- -->Examples:<!-- -->// normal case, child is sibling https://foo.com/themes/day.json + images/foo.png -<!-- -->&gt; https://foo.com/themes/images/foo.png<!-- -->// parent is "folder", so child is just located in this folder https://foo.com/themes/ + images/foo.png -<!-- -->&gt; https://foo.com/themes/images/foo.png<!-- -->// parent looks like leaf, so last component is stripped https://foo.com/themes + images/foo.png -<!-- -->&gt; https://foo.com/images/foo.png<!-- -->// origin-absolute URL, takes only origin from parent https://foo.com/themes/day.json + /fonts/foo.json -<!-- -->&gt; https://foo.com/fonts/foo.json |
|  [sampleBilinear(texture, width, height, u, v)](./harp-utils.samplebilinear.md) | Returns a bilinear-interpolated texture sample for a given texture. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [CachedResource](./harp-utils.cachedresource.md) |  |
|  [IChannel](./harp-utils.ichannel.md) | Interface for the Channel classes. |
|  [IContextLogger](./harp-utils.icontextlogger.md) | Extension of \[\[ISimpleChannel\]\] to support contextual logging by adding stack of prefixes. |
|  [ILogger](./harp-utils.ilogger.md) | Public interface for Logger class. |
|  [ISimpleChannel](./harp-utils.isimplechannel.md) | Refinement of <code>console</code> interface only for important information i.e <code>info</code>, <code>warn</code> and <code>errors</code>. |
|  [IWorkerChannelMessage](./harp-utils.iworkerchannelmessage.md) | The interface for the messages of the WorkerChannel. |
|  [PrefixUriResolverDefinition](./harp-utils.prefixuriresolverdefinition.md) |  |
|  [PriorityListElement](./harp-utils.prioritylistelement.md) | A <code>PriorityListElement</code> has a priority to assist in sorting. The idea is that the items in a grouped priority list will not modify their priority during processing to such an amount, that they will change into another group. Smaller lists are smaller to sort, and in case of resource limitation (maximum number of rendered objects reached), not all items have to be sorted at all. |
|  [UriResolver](./harp-utils.uriresolver.md) | Custom, app-specific URI resolver interface. |

## Namespaces

|  Namespace | Description |
|  --- | --- |
|  [Math2D](./harp-utils.math2d.md) |  |
|  [MathUtils](./harp-utils.mathutils.md) |  |

## Variables

|  Variable | Description |
|  --- | --- |
|  [WORKERCHANNEL\_MSG\_TYPE](./harp-utils.workerchannel_msg_type.md) |  |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [PriorityListGroupMap](./harp-utils.prioritylistgroupmap.md) | The <code>PriorityListGroupMap</code> is a map to map the (integer) priority to a \[\[PriorityListGroup\]\]. |

