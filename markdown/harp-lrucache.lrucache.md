<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@here/harp-lrucache](./harp-lrucache.md) &gt; [LRUCache](./harp-lrucache.lrucache.md)

## LRUCache class

Fixed size cache that evicts its entries in least-recently-used order when it overflows. Modeled after standard JavaScript `Map` otherwise.

<b>Signature:</b>

```typescript
export declare class LRUCache<Key, Value> 
```

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(cacheCapacity, sizeFunction)](./harp-lrucache.lrucache._constructor_.md) |  | Creates a new instance of <code>LRUCache</code>.<!-- -->The optional \[\[sizeFunction\]\] can be used to fine tune the memory consumption of all cached elements, thus \[\[cacheCapacity\]\] means then memory used (in MBs). Otherwise, if \[\[sizeFunction\]\] is not specified, the \[\[cacheCapacity\]\] accounts for the maximum number of elements stored. |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [canEvict](./harp-lrucache.lrucache.canevict.md) |  | (key: Key, value: Value) =&gt; boolean | Optional callback that is called on every item that should be evicted from the cache to determine if it can be removed, or should be locked in the cache.<!-- -->It returns <code>true</code> if the item can be removed from cache, <code>false</code> otherwise. Locking items in the cache should be a temporary measure, since if the cache is filled with non-evictable items only, it may grow beyond its capacity.<!-- -->\*\*Note\*\*: This callback is not called when an item is explicitly deleted from the map via \[\[delete\]\] or \[\[clear\]\]. |
|  [capacity](./harp-lrucache.lrucache.capacity.md) |  | number | Returns the maximum capacity of the cache, i.e. the maximum number of elements this cache can contain or the total amount of memory that may be consumed by cache if element size function was specified in cache c-tor. |
|  [evictionCallback](./harp-lrucache.lrucache.evictioncallback.md) |  | (key: Key, value: Value) =&gt; void | Optional callback that is called on every item that is evicted from the cache.<!-- -->\*\*Note\*\*: This callback is not called when an item is explicitly deleted from the map via \[\[delete\]\] or \[\[clear\]\]. |
|  [map](./harp-lrucache.lrucache.map.md) |  | Map&lt;Key, [Entry](./harp-lrucache.entry.md)<!-- -->&lt;Key, Value&gt;&gt; |  |
|  [newest](./harp-lrucache.lrucache.newest.md) |  | [Entry](./harp-lrucache.entry.md)<!-- -->&lt;Key, Value&gt; \| null | Returns the newest entry in the cache. |
|  [oldest](./harp-lrucache.lrucache.oldest.md) |  | [Entry](./harp-lrucache.entry.md)<!-- -->&lt;Key, Value&gt; \| null | Returns the oldest entry in the cache.<!-- -->Note: Does not promote the oldest item as most recently used item. |
|  [size](./harp-lrucache.lrucache.size.md) |  | number | The size of the cache, i.e. the sum of all the sizes of all the objects in the cache. |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [clear()](./harp-lrucache.lrucache.clear.md) |  | Clears the cache and removes all stored key-value pairs.<!-- -->Does not call the eviction callback. Use \[\[evictAll\]\] to clear the cache and call the eviction callback. |
|  [delete(key)](./harp-lrucache.lrucache.delete.md) |  | Explicitly removes a key-value pair from the cache.<!-- -->\*\*Note\*\*: This is an explicit removal, thus, the eviction callback will not be called. |
|  [evict()](./harp-lrucache.lrucache.evict.md) |  |  |
|  [evictAll()](./harp-lrucache.lrucache.evictall.md) |  | Evicts all items from the cache, calling the eviction callback on each item.<!-- -->Use \[\[clear\]\] to remove all items without calling the eviction callback. |
|  [evictOldest()](./harp-lrucache.lrucache.evictoldest.md) |  |  |
|  [evictSelected(selector, thisArg)](./harp-lrucache.lrucache.evictselected.md) |  | Evict selected elements from the cache using \[\[selector\]\] function. |
|  [forEach(callbackfn, thisArg)](./harp-lrucache.lrucache.foreach.md) |  | Iterates over all items from the most recently used item to the least recently used one.<!-- -->\*\*Note\*\*: Results are undefined if the entire cache is modified during iteration. You may although modify the current element in \[\[callbackfn\]\] function. |
|  [get(key)](./harp-lrucache.lrucache.get.md) |  | Looks up key in the cache and returns the associated value. |
|  [has(key)](./harp-lrucache.lrucache.has.md) |  | Test if a key/value pair is in the cache. |
|  [set(key, value)](./harp-lrucache.lrucache.set.md) |  | Inserts or updates a key/value pair in the cache.<!-- -->If the key already existed in the cache, it will be updated and promoted to the most recently used item.<!-- -->If the key didn't exist in the cache, it will be inserted as most recently used item. An eviction of the least recently used item takes place if the cache exceeded its capacity. |
|  [setCapacity(newCapacity)](./harp-lrucache.lrucache.setcapacity.md) |  | Resets the capacity of this cache. If <code>newCapacity</code> is smaller than the current cache size, all items will be evicted until the cache shrinks to <code>newCapacity</code>. |
|  [setCapacityAndMeasure(newCapacity, sizeMeasure)](./harp-lrucache.lrucache.setcapacityandmeasure.md) |  | Resets the cache capacity and function used to measure the element size. |
|  [shrinkToCapacity()](./harp-lrucache.lrucache.shrinktocapacity.md) |  | Updates the size of all elements in this cache. If their aggregated size is larger than the capacity, items will be evicted until the cache shrinks to fit the capacity. |

